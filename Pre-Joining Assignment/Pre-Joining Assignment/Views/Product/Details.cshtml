@model ApiModels.Products.ProductModel

@{
    ViewBag.Title = "Details";
}

<h2 class="mt-3">Details</h2>
<link href="//cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" rel="stylesheet">
<script src="//cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<script type="text/javascript"></script>

<script>
    $(document).ready(function () {
        alert("hi");
        $('#tb').DataTable();
    });
</script>


<table id="tb" class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col">@Html.DisplayNameFor(model => model.name)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.category)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.price)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.short_desc)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.small_img)</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var prod in ViewBag.Prod)
        {
            <tr>
                <th>@prod.name</th>
                <th>@prod.category</th>
                <th>@prod.price</th>
                <th>@prod.short_desc</th>
                <th>
                    @{

                        var img = "data:image/jpg;base64," + Convert.ToBase64String(prod.small_img, 0, prod.small_img.Length);
                    }
                    <img src="@img" class="img-thumbnail rounded" style="width: auto; height: 125px;" alt="Cinque Terre">
                </th>
                <th>@Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ })</th>
                <th>@Html.ActionLink("Delete", "Delete", new { /* id = Model.PrimaryKey */ })</th>
            </tr>
        }

    </tbody>
</table>
